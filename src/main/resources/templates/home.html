<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>COVID-19 Tracker</title>

	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
		integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<!-- <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet"> -->

	<link href="https://fonts.googleapis.com/css?family=Karla|Montserrat&display=swap" rel="stylesheet">

	<link rel="stylesheet" type="text/css" href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />

	<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" />

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/8.0.4/highcharts.min.js"></script>

	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.20/js/jquery.dataTables.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>

	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>

		<!-- <script src="https://code.highcharts.com/maps/highmaps.js"></script>
		<script src="https://code.highcharts.com/maps/modules/data.js"></script>
		<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
		<script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
		<script src="https://code.highcharts.com/mapdata/custom/world.js"></script> -->
		

	<link rel="stylesheet" type="text/css" href="/css/home.css" />

	<script type="text/javascript" src="/js/home.js"></script>



</head>

<body>
	<nav class="navbar navbar-expand-md navbar-dark fixed-top" id="mynavbar">
		<a class="navbar-brand" href="#">COVID-19 Tracker</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
			aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarsExampleDefault">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active">

				</li>
				<li class="nav-item">

				</li>
				<li class="nav-item">

				</li>
				<li class="nav-item dropdown">

					<div class="dropdown-menu" aria-labelledby="dropdown01">

					</div>
				</li>
			</ul>
			<span class="my-2 my-lg-0">
				<a class="btn btn-light my-2 my-sm-0" href="https://github.com/thecoducer/covid19-tracker"
					target="_blank">Fork on GitHub</a>
			</span>
		</div>
	</nav>

	<main role="main">

		<div class="container">

			<!-- Main jumbotron for a primary marketing message or call to action -->
			<div class="jumbotron container" id="jumbo_totals">

				<div class="row">

					<div class="col">
						<p class="display-3" id="total_counter" th:text="${totalIndiaCases}"></p>
						<p class="lead" id="total_p">Total number of cases in India</p>
					</div>

					<div class="col">
						<p class="display-3" id="total_counter" th:text="${totalWorldCases}"></p>
						<p class="lead" id="total_p">Total number of cases in the World</p>
					</div>

				</div>
			</div>


			<nav id="navpills" style="font-family: 'Karla', sans-serif;">
				<div class="nav nav-pills " id="nav-tab" role="tablist">
					<a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab"
						aria-controls="nav-home" aria-selected="true">India</a>

					<a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab"
						aria-controls="nav-profile" aria-selected="false">World</a>
				</div>
			</nav>




			<div class="tab-content" id="nav-tabContent">

				<!-- INDIA STATS -->
				<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

					<div class="container" id="card-container">
						<div class="row">
							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="newcases">
									<p class="card-title" th:text="${totalIndiaNewCases}"></p>
									<p class="card-text">new cases today</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="activecases">
									<p class="card-title" th:text="${totalIndiaActiveCases}"></p>
									<p class="card-text">active cases in total</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="recoveredcases">
									<p class="card-title" th:text="${totalIndiaRecoveredCases}"></p>
									<p class="card-text">recovered cases in total</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="newdeaths">
									<p class="card-title" th:text="${totalIndiaNewDeaths}"></p>
									<p class="card-text">died today</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="deaths">
									<p class="card-title" th:text="${totalIndiaDeaths}"></p>
									<p class="card-text">deaths in total</p>
								</div>
							</div>

						</div>
					</div>

					<h5 class="text-center" style="color: #646464;">Daily Cases</h5>

					<div class="container" id="container_timeseries">

						<div class="row">

							<div class="col-md" id="seriesgraph">
							</div>

						</div>
						<p class="text-center" id="info">Tap on any label to show/hide its respective line</p>

					</div>


					<h3 class="text-center" id="samples_h3">
						<span th:text="${totalSamplesTested}"></span>
						samples tested till <span th:text="${timestampSamples}"></span>
					</h3>


					<h3 class="text-center" id="individuals_h3">
						<span th:text="${totalIndividualTested}"></span>
						individuals tested till <span th:text="${timestampIndividual}"></span>
					</h3>

					<p class="text-center" id="info_table">Swipe the table left or right to read more</p>

					<div class="table-responsive" id="mytable">
						<table class="table table-hover" id="table_id">
							<thead id="table-header">
								<tr>
									<th>State</th>
									<th>Total</th>
									<th>Active</th>
									<th>Tot Recvrd</th>
									<th>Tot Deaths</th>
									<th>Recvrd %</th>
									<th>Death %</th>
									<th id="india_casesrate">Cases %</th>
								</tr>
							</thead>
							<tbody id="ind_tablebody">
								<tr th:each="indiaStat : ${indiaStats}">

									<td id="td_state" th:text="${indiaStat.state}"></td>

									<td class="text-right">
										<span id="up_newcases" th:if="${indiaStat.delta_Confirmed != '0'}">
											<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round">
												<line x1="12" y1="19" x2="12" y2="5"></line>
												<polyline points="5 12 12 5 19 12"></polyline>
											</svg>

											<span id="india_newcases" th:text="${indiaStat.delta_Confirmed}"></span>
										</span>
										<span th:text="${indiaStat.confirmed}"></span>
									</td>

									<td class="text-right" th:text="${indiaStat.active}"></td>

									<td class="text-right">
										<span id="up_newrecovered" th:if="${indiaStat.delta_Recovered != '0'}">
											<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round">
												<line x1="12" y1="19" x2="12" y2="5"></line>
												<polyline points="5 12 12 5 19 12"></polyline>
											</svg>

											<span id="india_newrecovered" th:text="${indiaStat.delta_Recovered}"></span>
										</span>
										<span th:text="${indiaStat.recovered}"></span>
									</td>

									<td class="text-right">
										<span id="up_newdeaths" th:if="${indiaStat.delta_Deaths != '0'}">
											<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round">
												<line x1="12" y1="19" x2="12" y2="5"></line>
												<polyline points="5 12 12 5 19 12"></polyline>
											</svg>

											<span id="india_newdeaths" th:text="${indiaStat.delta_Deaths}"></span>
										</span>
										<span th:text="${indiaStat.deaths}"></span>
									</td>

									<td class="text-right" th:text="${indiaStat.recoveredRate}"></td>
									<td class="text-right" th:text="${indiaStat.deathRate}"></td>
									<td class="text-right" th:text="${indiaStat.casePercentage}"></td>

								</tr>
							</tbody>
						</table>
					</div>

				</div>


				<!-- WORLD STATS -->
				<div class="tab-pane fade " id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">

					<div class="container" id="card-container">
						<div class="row">
							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="newcases">
									<p class="card-title" th:text="${totalNewCases}"></p>
									<p class="card-text">new cases today</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="activecases">
									<p class="card-title" th:text="${totalActiveCases}"></p>
									<p class="card-text">active cases in total</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="recoveredcases">
									<p class="card-title" th:text="${totalRecoveredCases}"></p>
									<p class="card-text">recovered cases in total</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="newdeaths">
									<p class="card-title" th:text="${totalNewDeathsCount}"></p>
									<p class="card-text">died today</p>
								</div>
							</div>

							<div class="card col-sm" style="width: 18rem;">
								<div class="card-body" id="deaths">
									<p class="card-title" th:text="${totalDeathCount}"></p>
									<p class="card-text">deaths in total</p>
								</div>
							</div>
						</div>
					</div>

					<!-- <div class="container" id="container_worldmap">

						<div class="row">

							<div class="col-md" id="worldmap">
							</div>

						</div>
						<p class="text-center" id="info">Tap on any label to show/hide its respective line</p>

					</div> -->

					<h3 class="text-center" id="affectedCountriesh3">
						<span th:text="${affectedCountries}"></span>
						countries affected
					</h3>

					<div class="table-responsive" id="mytable">
						<table class="table table-hover" id="table_id2">
							<thead id="table-header">
								<tr>
									<th>Country</th>
									<th>Total</th>
									<th>Active</th>
									<th>Tot Recvrd</th>
									<th>Tot Deaths</th>
									<th>Recvrd %</th>
									<th>Death %</th>
									<th>Cases %</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="worldStat : ${worldStats}">
									<td id="td_country">
										<span th:text="${worldStat.country}"></span>
										<!-- &nbsp; <img
											th:src="${worldStat.countryInfo.flag}" width="20" height="20"> -->
									</td>
									<td class="text-right">
										<span id="up_newcases" th:if="${worldStat.todayCases != '0'}">
											<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round">
												<line x1="12" y1="19" x2="12" y2="5"></line>
												<polyline points="5 12 12 5 19 12"></polyline>
											</svg>
											<span th:text="${worldStat.todayCases}"></span>
										</span>
										<span th:text="${worldStat.cases}"></span>
									</td>

									<td class="text-right" th:text="${worldStat.active}"></td>

									<td class="text-right" th:text="${worldStat.recovered}"></td>

									<td class="text-right">
										<span id="up_newdeaths" th:if="${worldStat.todayDeaths != '0'}">
											<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round">
												<line x1="12" y1="19" x2="12" y2="5"></line>
												<polyline points="5 12 12 5 19 12"></polyline>
											</svg>
											<span th:text="${worldStat.todayDeaths}"></span>
										</span>
										<span th:text="${worldStat.deaths}"></span>
									</td>

									<td class="text-right" th:text="${worldStat.recoveredRate}"></td>

									<td class="text-right" th:text="${worldStat.deathRate}"></td>

									<td class="text-right" th:text="${worldStat.casePercentage}"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

			</div>
		</div>

	</main>

	<footer class="footer" style="margin-top: 50px; margin-bottom: -20px;">
		<div class="text-center">
			Made with <i class="icon ion-heart"></i> by <a href="https://thecoducer.github.io/" target="_blank">The
				Coducer</a>
		</div>
	</footer>

	<script>
		$(document).ready(function () {
			$('#table_id').dataTable();
		});

		$(document).ready(function () {
			$('#table_id2').dataTable();
		});

		$('#table_id').dataTable({
			"bInfo": false,
			"paging": false,
			"responsive": true,
			language: {
				searchPlaceholder: "Search state",
				search: ""
			},
			"order": [],
			'columnDefs': [{
				'targets': [1, 3, 4], /* column index */
				'orderable': false, /* true or false */

			}]
		});

		$('#table_id2').dataTable({
			"bInfo": false,
			"paging": false,
			"responsive": true,
			language: {
				searchPlaceholder: "Search country",
				search: ""
			},
			"order": [],
			'columnDefs': [{
				'targets': [1, 4], /* column index */
				'orderable': false, /* true or false */

			}]
		});

		$('div.dataTables_filter input').addClass('form-control');

	</script>

	<script>
		$(function () {
			$('#india_casesrate').click();
			$('#india_casesrate').click();
		});
	</script>

	<!-- <script>

		let tbl = document.getElementById("table_id").getElementsByTagName('tbody')[0];
		for (var i = 0; i < tbl.rows.length; i++) {
			if (tbl.rows[i].cells[2].innerHTML == 0) {
				tbl.rows[i].cells[2].getElementsByClassName("india_nc");
			}
		}
	</script> -->


	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-104755350-2"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-104755350-2');
	</script>


</body>

</html>